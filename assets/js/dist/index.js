(()=>{"use strict";var t={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const e=window.wp.plugins,n=window.React,o=window.wp.i18n,a=window.wp.editPost,s=window.wp.apiFetch;var i=t.n(s);const p=window.wp.components;(0,e.registerPlugin)("sup-post-duplicate",{render:()=>{const[t,e]=(0,n.useState)(),[s,r]=(0,n.useState)(!1);(0,n.useEffect)((()=>{e(wp.data.select("core/editor").getCurrentPostId())}),[]);const l={opacity:s?.5:1,pointerEvents:s?"none":"all",display:"inline-flex",alignItems:"center",gap:"5px"};return(0,n.createElement)(a.PluginPostStatusInfo,null,(0,n.createElement)("button",{style:l,onClick:async function(){if(s)return;if(!t)return alert((0,o.__)("Error GE-001: Could not get post ID","sup-post-duplicate"));r(!0);const e=await i()({path:"sup-posts-duplicate/v1/duplicate",method:"POST",parse:!1,data:{post_id:t}});if(200===e.status){const t=e.headers.get("X-Location");t&&window.open(t,"_blank")}r(!1)},className:"components-button is-link"},(0,o.__)("Duplicate Post","sup-post-duplicate"),s&&(0,n.createElement)(p.Spinner,null)))},icon:"admin-page"})})();