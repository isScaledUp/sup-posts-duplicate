(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.plugins,n=window.React,o=window.wp.i18n,a=window.wp.editPost,r=window.wp.primitives,i=(0,n.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(r.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M5 4.5h11a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V5a.5.5 0 0 1 .5-.5ZM3 5a2 2 0 0 1 2-2h11a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5Zm17 3v10.75c0 .69-.56 1.25-1.25 1.25H6v1.5h12.75a2.75 2.75 0 0 0 2.75-2.75V8H20Z"})),p=window.wp.apiFetch;var s=e.n(p);const c=window.wp.components;(0,t.registerPlugin)("sup-post-duplicate",{render:()=>{const[e,t]=(0,n.useState)(),[r,p]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{t(wp.data.select("core/editor").getCurrentPostId())}),[]),(0,n.createElement)(a.PluginMoreMenuItem,{icon:i,onClick:async function(t){if(t.preventDefault(),t.stopPropagation(),r)return;if(!e)return alert((0,o.__)("Error GE-001: Could not get post ID","sup-post-duplicate"));p(!0);const n=await s()({path:"sup-posts-duplicate/v1/duplicate",method:"POST",parse:!1,data:{post_id:e}});if(200===n.status){const e=n.headers.get("X-Location");console.log(n.headers),e&&window.open(e,"_blank")}p(!1)}},(0,n.createElement)("span",{style:{opacity:r?.5:1}},(0,o.__)("Duplicate Post","sup-post-duplicate")),r&&(0,n.createElement)(c.Spinner,null))},icon:"admin-page"})})();